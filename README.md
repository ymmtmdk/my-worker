# README

## 📌 プロジェクト概要
このプロジェクトは **Cloudflare Workers** 上で動作する API です。
気象庁アメダスの観測データを取得し、**キャッシュ＋フォールバック機構**を備えた堅牢なエンドポイントを提供します。
開発・本番環境でのログレベル制御も可能です。

---

## 🚀 機能
- **アメダスデータ取得**
  - 最新の10分単位データを取得
  - 観測所IDを指定してレスポンスを返す
- **キャッシュ機構**
  - Cloudflare Workers の `caches.default` を利用
  - 10分ごとにキャッシュキーを生成
  - `Cache-Control: max-age=600` により寿命を制御
- **フォールバック機構**
  - 最新データが取得できない場合、最大 N サイクル（10分単位）まで遡ってデータを探す
  - 定数 `MAX_FALLBACK_CYCLES` で制御可能
- **独自ロガー**
  - ログレベル（DEBUG / INFO / WARN / ERROR）を環境変数で制御
  - ログに日時を付与
  - 開発環境では詳細ログ、本番環境では最小限ログ


